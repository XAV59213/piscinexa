# Tableau de bord pour une seule piscine. Remplacez 'piscine' par le nom de votre piscine si différent.
title: dashboard.single_pool.title
views:
  - title: dashboard.single_pool.views.piscine.title
    path: piscine
    cards:
      - type: buttons
        title: dashboard.single_pool.cards.controls.title
        entities:
          - entity: button.piscinexa_piscine_reset
            name: entity.button.piscinexa_piscine_reset.name
          - entity: button.piscinexa_piscine_test
            name: entity.button.piscinexa_piscine_test.name
      - type: entities
        title: dashboard.single_pool.cards.manual_input.title
        entities:
          - entity: input_number.piscine_ph_current
            name: entity.input_number.piscine_ph_current.name
          - entity: input_number.piscine_chlore_current
            name: entity.input_number.piscine_chlore_current.name
      - type: entities
        title: dashboard.single_pool.cards.treatment_choices.title
        entities:
          - entity: input_select.piscine_ph_plus_treatment
            name: entity.input_select.piscine_ph_plus_treatment.name
          - entity: input_select.piscine_ph_minus_treatment
            name: entity.input_select.piscine_ph_minus_treatment.name
          - entity: input_select.piscine_chlore_treatment
            name: entity.input_select.piscine_chlore_treatment.name
      - type: entities
        title: dashboard.single_pool.cards.sensors.title
        entities:
          - entity: sensor.piscinexa_piscine_chlore
            unit: mg/L
            name: entity.sensor.piscinexa_piscine_chlore.name
          - entity: sensor.piscinexa_piscine_chlore_target
            unit: mg/L
            name: entity.sensor.piscinexa_piscine_chlore_target.name
          - entity: sensor.piscinexa_piscine_chloredifference
            unit: mg/L
            name: entity.sensor.piscinexa_piscine_chloredifference.name
          - type: template
            entity_id: sensor.piscinexa_piscine_chloreaajouter
            name: entity.sensor.piscinexa_piscine_chloreaajouter.name
            content: >
              {% if states('sensor.piscinexa_piscine_chloreaajouter') | float(default=0) > 0 %}
                {{ states('sensor.piscinexa_piscine_chloreaajouter') }} {{ state_attr('sensor.piscinexa_piscine_chloreaajouter', 'dose_unit') }} ({{ state_attr('sensor.piscinexa_piscine_chloreaajouter', 'treatment_type') }} pour {{ state_attr('sensor.piscinexa_piscine_chloreaajouter', 'volume') }} m³)
              {% else %}
                {{ state_attr('sensor.piscinexa_piscine_chloreaajouter', 'message') | default('entity.sensor.piscinexa_piscine_chloreaajouter.messages.remove_chlorine') }}
              {% endif %}
          - entity: sensor.piscinexa_piscine_consopuissance
            unit: W
            name: entity.sensor.piscinexa_piscine_consopuissance.name
          - entity: sensor.piscinexa_piscine_log
            name: entity.sensor.piscinexa_piscine_log.name
          - entity: sensor.piscinexa_piscine_ph
            name: entity.sensor.piscinexa_piscine_ph.name
          - entity: sensor.piscinexa_piscine_ph_target
            name: entity.sensor.piscinexa_piscine_ph_target.name
          - type: template
            entity_id: sensor.piscinexa_piscine_ph_plus_ajouter
            name: entity.sensor.piscinexa_piscine_ph_plus_ajouter.name
            content: >
              {% if states('sensor.piscinexa_piscine_ph_plus_ajouter') | float(default=0) > 0 %}
                {{ states('sensor.piscinexa_piscine_ph_plus_ajouter') }} {{ state_attr('sensor.piscinexa_piscine_ph_plus_ajouter', 'unit_of_measurement') }}
              {% else %}
                dashboard.single_pool.cards.template_ph_plus.no_adjustment
              {% endif %}
          - type: template
            entity_id: sensor.piscinexa_piscine_ph_minus_ajouter
            name: entity.sensor.piscinexa_piscine_ph_minus_ajouter.name
            content: >
              {% if states('sensor.piscinexa_piscine_ph_minus_ajouter') | float(default=0) > 0 %}
                {{ states('sensor.piscinexa_piscine_ph_minus_ajouter') }} {{ state_attr('sensor.piscinexa_piscine_ph_minus_ajouter', 'unit_of_measurement') }}
              {% else %}
                dashboard.single_pool.cards.template_ph_minus.no_adjustment
              {% endif %}
          - entity: sensor.piscinexa_piscine_temperature
            unit: °C
            name: entity.sensor.piscinexa_piscine_temperature.name
          - entity: sensor.piscinexa_piscine_tempsfiltration
            unit: h
            name: entity.sensor.piscinexa_piscine_tempsfiltration.name
          - entity: sensor.piscinexa_piscine_volume_eau
            unit: m³
            name: entity.sensor.piscinexa_piscine_volume_eau.name
          - entity: sensor.piscinexa_piscine_pool_state
            name: entity.sensor.piscinexa_piscine_pool_state.name