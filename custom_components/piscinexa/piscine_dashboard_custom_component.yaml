title: Piscine
views:
  - title: Piscine
    path: piscine
    cards:
      - type: entities
        title: Infos piscine
        entities:
          - entity: sensor.piscinevolumeeau
            unit: m³
          - entity: sensor.piscinetempsfiltration
            unit: h
          - entity: sensor.piscinetemperature
            unit: °C
          - entity: sensor.piscineph
          - entity: sensor.piscinephaajouter
            unit: L
          - entity: sensor.piscinechlore
            unit: mg/L
          - type: template
            entity_id: sensor.piscinechloreaajouter
            name: "Chlore à ajouter"
            content: >
              {% if states('sensor.piscinechloreaajouter') | float(default=0) > 0 %}
                {{ states('sensor.piscinechloreaajouter') }} g
              {% else %}
                {{ state_attr('sensor.piscinechloreaajouter', 'message') or 'Retirer le chlore, pas de besoin actuellement' }}
              {% endif %}
          - entity: sensor.piscineconsopuissance
            unit: W
          - entity: sensor.piscinelog
      - type: entities
        title: Saisie manuelle
        entities:
          - entity: input_number.piscine_ph_current
          - entity: input_number.piscine_chlore_current
      - type: buttons
        title: Commandes
        entities:
          - button.piscinetest
          - button.piscinereset
