title: Piscine
views:
  - title: Piscine
    path: piscine
    cards:
      - type: buttons
        title: Contrôles
        entities:
          - button.piscinereset
            name: Réinitialiser
          - button.piscinetest
            name: Tester
      - type: entities
        title: Saisie manuelle
        entities:
          - entity: input_number.piscine_ph_current
            name: pH Actuel
          - entity: input_number.piscine_chlore_current
            name: Chlore Actuel
      - type: entities
        title: Capteurs
        entities:
          - entity: sensor.piscinechlore
            unit: mg/L
            name: Chlore
          - type: template
            entity_id: sensor.piscinechloreaajouter
            name: Chlore à ajouter
            content: >
              {% if states('sensor.piscinechloreaajouter') | float(default=0) > 0 %}
                {{ states('sensor.piscinechloreaajouter') }} g
              {% else %}
                {{ state_attr('sensor.piscinechloreaajouter', 'message') or 'Retirer le chlore, pas de besoin actuellement' }}
              {% endif %}
          - entity: sensor.piscineconsopuissance
            unit: W
            name: Consommation puissance
          - entity: sensor.piscinelog
            name: Journal
          - entity: sensor.piscineph
            name: pH
          - entity: sensor.piscinephaajouter
            unit: L
            name: pH à ajouter
          - entity: sensor.piscinetemperature
            unit: °C
            name: Température
          - entity: sensor.piscinetempsfiltration
            unit: h
            name: Temps de filtration
          - entity: sensor.piscinevolumeeau
            unit: m³
            name: Volume d'eau
