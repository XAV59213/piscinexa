# Tableau de bord pour une seule piscine. Remplacez '<entry_id>' par l'identifiant réel de votre configuration.
title: Tableau de bord piscine
views:
  - title: Piscine
    path: piscine
    cards:
      - type: buttons
        title: Contrôles
        entities:
          - entity: button.<entry_id>_reset
          - entity: button.<entry_id>_test
      - type: entities
        title: Saisie manuelle
        entities:
          - entity: input_number.<name>_ph_current
          - entity: input_number.<name>_chlore_current
      - type: entities
        title: Choix des traitements
        entities:
          - entity: input_select.<name>_ph_plus_treatment
          - entity: input_select.<name>_ph_minus_treatment
          - entity: input_select.<name>_chlore_treatment
      - type: entities
        title: Capteurs
        entities:
          - entity: sensor.<entry_id>_chlore
            unit: mg/L
          - entity: sensor.<entry_id>_chlore_target
            unit: mg/L
          - entity: sensor.<entry_id>_chloredifference
            unit: mg/L
          - type: template
            entity_id: sensor.<entry_id>_chloreaajouter
            content: >
              {% if states('sensor.<entry_id>_chloreaajouter') | float(default=0) > 0 %}
                {{ states('sensor.<entry_id>_chloreaajouter') }} {{ state_attr('sensor.<entry_id>_chloreaajouter', 'dose_unit') }} ({{ state_attr('sensor.<entry_id>_chloreaajouter', 'treatment_type') }} pour {{ state_attr('sensor.<entry_id>_chloreaajouter', 'volume') }} m³)
              {% else %}
                Aucun ajustement nécessaire
              {% endif %}
          - entity: sensor.<entry_id>_consopuissance
            unit: W
          - entity: sensor.<entry_id>_log
          - entity: sensor.<entry_id>_ph
          - entity: sensor.<entry_id>_ph_target
          - type: template
            entity_id: sensor.<entry_id>_ph_plus_ajouter
            content: >
              {% if states('sensor.<entry_id>_ph_plus_ajouter') | float(default=0) > 0 %}
                {{ states('sensor.<entry_id>_ph_plus_ajouter') }} {{ state_attr('sensor.<entry_id>_ph_plus_ajouter', 'unit_of_measurement') }}
              {% else %}
                Aucun ajustement nécessaire
              {% endif %}
          - type: template
            entity_id: sensor.<entry_id>_ph_minus_ajouter
            content: >
              {% if states('sensor.<entry_id>_ph_minus_ajouter') | float(default=0) > 0 %}
                {{ states('sensor.<entry_id>_ph_minus_ajouter') }} {{ state_attr('sensor.<entry_id>_ph_minus_ajouter', 'unit_of_measurement') }}
              {% else %}
                Aucun ajustement nécessaire
              {% endif %}
          - entity: sensor.<entry_id>_temperature
            unit: °C
          - entity: sensor.<entry_id>_tempsfiltration
            unit: h
          - entity: sensor.<entry_id>_volume_eau
            unit: m³
          - entity: sensor.<entry_id>_pool_state
