# Tableau de bord pour une seule piscine. Remplacez 'piscine' par le nom de votre piscine si différent.
title: Piscine
views:
  - title: Piscine
    path: piscine
    cards:
      - type: buttons
        title: Contrôles
        entities:
          - button.piscinexa_piscine_reset
            name: Réinitialiser
          - button.piscinexa_piscine_test
            name: Tester
      - type: entities
        title: Saisie manuelle
        entities:
          - entity: input_number.piscine_ph_current
            name: pH Actuel
          - entity: input_number.piscine_chlore_current
            name: Chlore Actuel
      - type: entities
        title: Choix des traitements
        entities:
          - entity: input_select.piscine_ph_plus_treatment
            name: Type de traitement pH+
          - entity: input_select.piscine_ph_minus_treatment
            name: Type de traitement pH-
          - entity: input_select.piscine_chlore_treatment
            name: Type de traitement Chlore
      - type: entities
        title: Capteurs
        entities:
          - entity: sensor.piscinexa_piscine_chlore
            unit: mg/L
            name: Chlore
          - entity: sensor.piscinexa_piscine_chloredifference
            unit: mg/L
            name: Différence Chlore
          - type: template
            entity_id: sensor.piscinexa_piscine_chloreaajouter
            name: Chlore à ajouter
            content: >
              {% if states('sensor.piscinexa_piscine_chloreaajouter') | float(default=0) > 0 %}
                {{ states('sensor.piscinexa_piscine_chloreaajouter') }} {{ state_attr('sensor.piscinexa_piscine_chloreaajouter', 'unit_of_measurement') }}
              {% else %}
                {{ state_attr('sensor.piscinexa_piscine_chloreaajouter', 'message') or 'Retirer le chlore, pas de besoin actuellement' }}
              {% endif %}
          - entity: sensor.piscinexa_piscine_consopuissance
            unit: W
            name: Consommation puissance
          - entity: sensor.piscinexa_piscine_log
            name: Journal
          - entity: sensor.piscinexa_piscine_ph
            name: pH
          - entity: sensor.piscinexa_piscine_phaajouter
            name: pH à ajouter
            unit: dynamic
            content: >
              {% if states('sensor.piscinexa_piscine_phaajouter') | float(default=0) > 0 %}
                {{ states('sensor.piscinexa_piscine_phaajouter') }} {{ state_attr('sensor.piscinexa_piscine_phaajouter', 'unit_of_measurement') }}
              {% else %}
                Aucun ajustement pH nécessaire
              {% endif %}
          - entity: sensor.piscinexa_piscine_temperature
            unit: °C
            name: Température
          - entity: sensor.piscinexa_piscine_tempsfiltration
            unit: h
            name: Temps de filtration
          - entity: sensor.piscinexa_piscine_volume_eau
            unit: m³
            name: Volume d'eau
          - entity: sensor.piscinexa_piscine_pool_state
            name: État de la piscine
