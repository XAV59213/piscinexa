# Tableau de bord pour une seule piscine. Remplacez 'piscine' par le nom de votre piscine si différent.
title: Piscine
views:
  - title: Piscine
    path: piscine
    cards:
      - type: buttons
        title: Contrôles
        entities:
          - button.piscinexa_piscine_reset
            name: Réinitialiser
          - button.piscinexa_piscine_test
            name: Calculer l'état de la piscine
      - type: entities
        title: Saisie manuelle
        entities:
          - entity: input_number.piscine_ph_current
            name: pH Actuel
          - entity: input_number.piscine_ph_target
            name: pH Cible
          - entity: input_number.piscine_chlore_current
            name: Chlore Actuel
      - type: entities
        title: Choix des traitements
        entities:
          - entity: input_select.piscine_ph_plus_treatment
            name: Type de traitement pH+
          - entity: input_select.piscine_ph_minus_treatment
            name: Type de traitement pH-
          - entity: input_select.piscine_chlore_treatment
            name: Type de traitement Chlore
      - type: entities
        title: Capteurs
        entities:
          - entity: sensor.piscinexa_piscine_chlore
            unit: mg/L
            name: Chlore
          - entity: sensor.piscinexa_piscine_chlore_difference
            unit: mg/L
            name: Différence Chlore
          - type: template
            entity_id: sensor.piscinexa_piscine_chlore_a_ajouter
            name: Chlore à ajouter
            content: >
              {% if states('sensor.piscinexa_piscine_chlore_a_ajouter') | float(default=0) > 0 %}
                {{ states('sensor.piscinexa_piscine_chlore_a_ajouter') }} {{ state_attr('sensor.piscinexa_piscine_chlore_a_ajouter', 'unit_of_measurement') }}
              {% else %}
                {{ state_attr('sensor.piscinexa_piscine_chlore_a_ajouter', 'message') or 'Retirer le chlore, pas de besoin actuellement' }}
              {% endif %}
          - entity: sensor.piscinexa_piscine_consopuissance
            unit: W
            name: Consommation Puissance
          - entity: sensor.piscinexa_piscine_log
            name: Journal
          - entity: sensor.piscinexa_piscine_ph
            name: pH
          - type: template
            entity_id: sensor.piscinexa_piscine_ph_a_ajouter
            name: pH à ajouter
            content: >
              {% if states('sensor.piscinexa_piscine_ph_a_ajouter') | float(default=0) > 0 %}
                {{ states('sensor.piscinexa_piscine_ph_a_ajouter') }} {{ state_attr('sensor.piscinexa_piscine_ph_a_ajouter', 'unit_of_measurement') }} ({{ state_attr('sensor.piscinexa_piscine_ph_a_ajouter', 'treatment_direction') }})
              {% else %}
                {{ state_attr('sensor.piscinexa_piscine_ph_a_ajouter', 'treatment_direction') }}
              {% endif %}
          - entity: sensor.piscinexa_piscine_ph_plus_a_ajouter
            unit: L
            name: pH+ à ajouter
          - entity: sensor.piscinexa_piscine_ph_minus_a_ajouter
            unit: L
            name: pH- à ajouter
          - entity: sensor.piscinexa_piscine_temperature
            unit: °C
            name: Température
          - entity: sensor.piscinexa_piscine_temps_filtration
            unit: h
            name: Temps de filtration
          - entity: sensor.piscinexa_piscine_volume_eau
            unit: m³
            name: Volume d'eau
          - entity: sensor.piscinexa_piscine_pool_state
            name: État de la piscine